#const size = 6.
#const size_1_3 = size / 2 / 3.
#const size_2_3 = size / 3.
#domain person(X).
#domain person(Y).
#domain person(Y_1).
#domain person(Z_1).
#domain person(Z_2).
#domain rank(R).

person(1..size).
rank(1..(size / 2)).

ssex(1..(size / 2),1..(size / 2)).
ssex((size / 2 + 1).. size, (size / 2 + 1).. size).

:- block(X,Y).
pair(X,Y) :- pair(Y,X).
:- ssex(X,Y), pair(X,Y).

:- pair(X,Y), pair(X,Y_1), Y != Y_1.
block(X,Y) | pair(X,Y) :- pair(X,Z_1), pair(Y,Z_2), prefer(X,Y,Z_1), prefer(Y,X,Z_2).
hate_1(X) :- pair(X,Y), like(X,R,Y), R > size_2_3.
hate_2(X) :- pair(X,Y), like(X,R,Y), R > size_1_3, R <= size_2_3.
block(X,Y) :- unaccept(X,Y), pair(X,Y).

pair(1,1) :- r_1_1.
like(1,1,1) :- r_1_1.
r_1_1 :- pair(1,1), like(1,1,1).
pair(1,1) :- r_1_2.
like(1,2,1) :- r_1_2.
r_1_2 :- pair(1,1), like(1,2,1).
pair(1,1) :- r_1_3.
like(1,3,1) :- r_1_3.
r_1_3 :- pair(1,1), like(1,3,1).
pair(1,2) :- r_1_4.
like(1,1,2) :- r_1_4.
r_1_4 :- pair(1,2), like(1,1,2).
pair(1,2) :- r_1_5.
like(1,2,2) :- r_1_5.
r_1_5 :- pair(1,2), like(1,2,2).
pair(1,2) :- r_1_6.
like(1,3,2) :- r_1_6.
r_1_6 :- pair(1,2), like(1,3,2).
pair(1,3) :- r_1_7.
like(1,1,3) :- r_1_7.
r_1_7 :- pair(1,3), like(1,1,3).
pair(1,3) :- r_1_8.
like(1,2,3) :- r_1_8.
r_1_8 :- pair(1,3), like(1,2,3).
pair(1,3) :- r_1_9.
like(1,3,3) :- r_1_9.
r_1_9 :- pair(1,3), like(1,3,3).
pair(1,4) :- r_1_10.
like(1,1,4) :- r_1_10.
r_1_10 :- pair(1,4), like(1,1,4).
pair(1,4) :- r_1_11.
like(1,2,4) :- r_1_11.
r_1_11 :- pair(1,4), like(1,2,4).
pair(1,4) :- r_1_12.
like(1,3,4) :- r_1_12.
r_1_12 :- pair(1,4), like(1,3,4).
pair(1,5) :- r_1_13.
like(1,1,5) :- r_1_13.
r_1_13 :- pair(1,5), like(1,1,5).
pair(1,5) :- r_1_14.
like(1,2,5) :- r_1_14.
r_1_14 :- pair(1,5), like(1,2,5).
pair(1,5) :- r_1_15.
like(1,3,5) :- r_1_15.
r_1_15 :- pair(1,5), like(1,3,5).
pair(1,6) :- r_1_16.
like(1,1,6) :- r_1_16.
r_1_16 :- pair(1,6), like(1,1,6).
pair(1,6) :- r_1_17.
like(1,2,6) :- r_1_17.
r_1_17 :- pair(1,6), like(1,2,6).
pair(1,6) :- r_1_18.
like(1,3,6) :- r_1_18.
r_1_18 :- pair(1,6), like(1,3,6).
r_1_1 | r_1_2 | r_1_3 | r_1_4 | r_1_5 | r_1_6 | r_1_7 | r_1_8 | r_1_9 | r_1_10 | r_1_11 | r_1_12 | r_1_13 | r_1_14 | r_1_15 | r_1_16 | r_1_17 | r_1_18.

pair(2,1) :- r_2_1.
like(2,1,1) :- r_2_1.
r_2_1 :- pair(2,1), like(2,1,1).
pair(2,1) :- r_2_2.
like(2,2,1) :- r_2_2.
r_2_2 :- pair(2,1), like(2,2,1).
pair(2,1) :- r_2_3.
like(2,3,1) :- r_2_3.
r_2_3 :- pair(2,1), like(2,3,1).
pair(2,2) :- r_2_4.
like(2,1,2) :- r_2_4.
r_2_4 :- pair(2,2), like(2,1,2).
pair(2,2) :- r_2_5.
like(2,2,2) :- r_2_5.
r_2_5 :- pair(2,2), like(2,2,2).
pair(2,2) :- r_2_6.
like(2,3,2) :- r_2_6.
r_2_6 :- pair(2,2), like(2,3,2).
pair(2,3) :- r_2_7.
like(2,1,3) :- r_2_7.
r_2_7 :- pair(2,3), like(2,1,3).
pair(2,3) :- r_2_8.
like(2,2,3) :- r_2_8.
r_2_8 :- pair(2,3), like(2,2,3).
pair(2,3) :- r_2_9.
like(2,3,3) :- r_2_9.
r_2_9 :- pair(2,3), like(2,3,3).
pair(2,4) :- r_2_10.
like(2,1,4) :- r_2_10.
r_2_10 :- pair(2,4), like(2,1,4).
pair(2,4) :- r_2_11.
like(2,2,4) :- r_2_11.
r_2_11 :- pair(2,4), like(2,2,4).
pair(2,4) :- r_2_12.
like(2,3,4) :- r_2_12.
r_2_12 :- pair(2,4), like(2,3,4).
pair(2,5) :- r_2_13.
like(2,1,5) :- r_2_13.
r_2_13 :- pair(2,5), like(2,1,5).
pair(2,5) :- r_2_14.
like(2,2,5) :- r_2_14.
r_2_14 :- pair(2,5), like(2,2,5).
pair(2,5) :- r_2_15.
like(2,3,5) :- r_2_15.
r_2_15 :- pair(2,5), like(2,3,5).
pair(2,6) :- r_2_16.
like(2,1,6) :- r_2_16.
r_2_16 :- pair(2,6), like(2,1,6).
pair(2,6) :- r_2_17.
like(2,2,6) :- r_2_17.
r_2_17 :- pair(2,6), like(2,2,6).
pair(2,6) :- r_2_18.
like(2,3,6) :- r_2_18.
r_2_18 :- pair(2,6), like(2,3,6).
r_2_1 | r_2_2 | r_2_3 | r_2_4 | r_2_5 | r_2_6 | r_2_7 | r_2_8 | r_2_9 | r_2_10 | r_2_11 | r_2_12 | r_2_13 | r_2_14 | r_2_15 | r_2_16 | r_2_17 | r_2_18.

pair(3,1) :- r_3_1.
like(3,1,1) :- r_3_1.
r_3_1 :- pair(3,1), like(3,1,1).
pair(3,1) :- r_3_2.
like(3,2,1) :- r_3_2.
r_3_2 :- pair(3,1), like(3,2,1).
pair(3,1) :- r_3_3.
like(3,3,1) :- r_3_3.
r_3_3 :- pair(3,1), like(3,3,1).
pair(3,2) :- r_3_4.
like(3,1,2) :- r_3_4.
r_3_4 :- pair(3,2), like(3,1,2).
pair(3,2) :- r_3_5.
like(3,2,2) :- r_3_5.
r_3_5 :- pair(3,2), like(3,2,2).
pair(3,2) :- r_3_6.
like(3,3,2) :- r_3_6.
r_3_6 :- pair(3,2), like(3,3,2).
pair(3,3) :- r_3_7.
like(3,1,3) :- r_3_7.
r_3_7 :- pair(3,3), like(3,1,3).
pair(3,3) :- r_3_8.
like(3,2,3) :- r_3_8.
r_3_8 :- pair(3,3), like(3,2,3).
pair(3,3) :- r_3_9.
like(3,3,3) :- r_3_9.
r_3_9 :- pair(3,3), like(3,3,3).
pair(3,4) :- r_3_10.
like(3,1,4) :- r_3_10.
r_3_10 :- pair(3,4), like(3,1,4).
pair(3,4) :- r_3_11.
like(3,2,4) :- r_3_11.
r_3_11 :- pair(3,4), like(3,2,4).
pair(3,4) :- r_3_12.
like(3,3,4) :- r_3_12.
r_3_12 :- pair(3,4), like(3,3,4).
pair(3,5) :- r_3_13.
like(3,1,5) :- r_3_13.
r_3_13 :- pair(3,5), like(3,1,5).
pair(3,5) :- r_3_14.
like(3,2,5) :- r_3_14.
r_3_14 :- pair(3,5), like(3,2,5).
pair(3,5) :- r_3_15.
like(3,3,5) :- r_3_15.
r_3_15 :- pair(3,5), like(3,3,5).
pair(3,6) :- r_3_16.
like(3,1,6) :- r_3_16.
r_3_16 :- pair(3,6), like(3,1,6).
pair(3,6) :- r_3_17.
like(3,2,6) :- r_3_17.
r_3_17 :- pair(3,6), like(3,2,6).
pair(3,6) :- r_3_18.
like(3,3,6) :- r_3_18.
r_3_18 :- pair(3,6), like(3,3,6).
r_3_1 | r_3_2 | r_3_3 | r_3_4 | r_3_5 | r_3_6 | r_3_7 | r_3_8 | r_3_9 | r_3_10 | r_3_11 | r_3_12 | r_3_13 | r_3_14 | r_3_15 | r_3_16 | r_3_17 | r_3_18.

pair(4,1) :- r_4_1.
like(4,1,1) :- r_4_1.
r_4_1 :- pair(4,1), like(4,1,1).
pair(4,1) :- r_4_2.
like(4,2,1) :- r_4_2.
r_4_2 :- pair(4,1), like(4,2,1).
pair(4,1) :- r_4_3.
like(4,3,1) :- r_4_3.
r_4_3 :- pair(4,1), like(4,3,1).
pair(4,2) :- r_4_4.
like(4,1,2) :- r_4_4.
r_4_4 :- pair(4,2), like(4,1,2).
pair(4,2) :- r_4_5.
like(4,2,2) :- r_4_5.
r_4_5 :- pair(4,2), like(4,2,2).
pair(4,2) :- r_4_6.
like(4,3,2) :- r_4_6.
r_4_6 :- pair(4,2), like(4,3,2).
pair(4,3) :- r_4_7.
like(4,1,3) :- r_4_7.
r_4_7 :- pair(4,3), like(4,1,3).
pair(4,3) :- r_4_8.
like(4,2,3) :- r_4_8.
r_4_8 :- pair(4,3), like(4,2,3).
pair(4,3) :- r_4_9.
like(4,3,3) :- r_4_9.
r_4_9 :- pair(4,3), like(4,3,3).
pair(4,4) :- r_4_10.
like(4,1,4) :- r_4_10.
r_4_10 :- pair(4,4), like(4,1,4).
pair(4,4) :- r_4_11.
like(4,2,4) :- r_4_11.
r_4_11 :- pair(4,4), like(4,2,4).
pair(4,4) :- r_4_12.
like(4,3,4) :- r_4_12.
r_4_12 :- pair(4,4), like(4,3,4).
pair(4,5) :- r_4_13.
like(4,1,5) :- r_4_13.
r_4_13 :- pair(4,5), like(4,1,5).
pair(4,5) :- r_4_14.
like(4,2,5) :- r_4_14.
r_4_14 :- pair(4,5), like(4,2,5).
pair(4,5) :- r_4_15.
like(4,3,5) :- r_4_15.
r_4_15 :- pair(4,5), like(4,3,5).
pair(4,6) :- r_4_16.
like(4,1,6) :- r_4_16.
r_4_16 :- pair(4,6), like(4,1,6).
pair(4,6) :- r_4_17.
like(4,2,6) :- r_4_17.
r_4_17 :- pair(4,6), like(4,2,6).
pair(4,6) :- r_4_18.
like(4,3,6) :- r_4_18.
r_4_18 :- pair(4,6), like(4,3,6).
r_4_1 | r_4_2 | r_4_3 | r_4_4 | r_4_5 | r_4_6 | r_4_7 | r_4_8 | r_4_9 | r_4_10 | r_4_11 | r_4_12 | r_4_13 | r_4_14 | r_4_15 | r_4_16 | r_4_17 | r_4_18.

pair(5,1) :- r_5_1.
like(5,1,1) :- r_5_1.
r_5_1 :- pair(5,1), like(5,1,1).
pair(5,1) :- r_5_2.
like(5,2,1) :- r_5_2.
r_5_2 :- pair(5,1), like(5,2,1).
pair(5,1) :- r_5_3.
like(5,3,1) :- r_5_3.
r_5_3 :- pair(5,1), like(5,3,1).
pair(5,2) :- r_5_4.
like(5,1,2) :- r_5_4.
r_5_4 :- pair(5,2), like(5,1,2).
pair(5,2) :- r_5_5.
like(5,2,2) :- r_5_5.
r_5_5 :- pair(5,2), like(5,2,2).
pair(5,2) :- r_5_6.
like(5,3,2) :- r_5_6.
r_5_6 :- pair(5,2), like(5,3,2).
pair(5,3) :- r_5_7.
like(5,1,3) :- r_5_7.
r_5_7 :- pair(5,3), like(5,1,3).
pair(5,3) :- r_5_8.
like(5,2,3) :- r_5_8.
r_5_8 :- pair(5,3), like(5,2,3).
pair(5,3) :- r_5_9.
like(5,3,3) :- r_5_9.
r_5_9 :- pair(5,3), like(5,3,3).
pair(5,4) :- r_5_10.
like(5,1,4) :- r_5_10.
r_5_10 :- pair(5,4), like(5,1,4).
pair(5,4) :- r_5_11.
like(5,2,4) :- r_5_11.
r_5_11 :- pair(5,4), like(5,2,4).
pair(5,4) :- r_5_12.
like(5,3,4) :- r_5_12.
r_5_12 :- pair(5,4), like(5,3,4).
pair(5,5) :- r_5_13.
like(5,1,5) :- r_5_13.
r_5_13 :- pair(5,5), like(5,1,5).
pair(5,5) :- r_5_14.
like(5,2,5) :- r_5_14.
r_5_14 :- pair(5,5), like(5,2,5).
pair(5,5) :- r_5_15.
like(5,3,5) :- r_5_15.
r_5_15 :- pair(5,5), like(5,3,5).
pair(5,6) :- r_5_16.
like(5,1,6) :- r_5_16.
r_5_16 :- pair(5,6), like(5,1,6).
pair(5,6) :- r_5_17.
like(5,2,6) :- r_5_17.
r_5_17 :- pair(5,6), like(5,2,6).
pair(5,6) :- r_5_18.
like(5,3,6) :- r_5_18.
r_5_18 :- pair(5,6), like(5,3,6).
r_5_1 | r_5_2 | r_5_3 | r_5_4 | r_5_5 | r_5_6 | r_5_7 | r_5_8 | r_5_9 | r_5_10 | r_5_11 | r_5_12 | r_5_13 | r_5_14 | r_5_15 | r_5_16 | r_5_17 | r_5_18.

pair(6,1) :- r_6_1.
like(6,1,1) :- r_6_1.
r_6_1 :- pair(6,1), like(6,1,1).
pair(6,1) :- r_6_2.
like(6,2,1) :- r_6_2.
r_6_2 :- pair(6,1), like(6,2,1).
pair(6,1) :- r_6_3.
like(6,3,1) :- r_6_3.
r_6_3 :- pair(6,1), like(6,3,1).
pair(6,2) :- r_6_4.
like(6,1,2) :- r_6_4.
r_6_4 :- pair(6,2), like(6,1,2).
pair(6,2) :- r_6_5.
like(6,2,2) :- r_6_5.
r_6_5 :- pair(6,2), like(6,2,2).
pair(6,2) :- r_6_6.
like(6,3,2) :- r_6_6.
r_6_6 :- pair(6,2), like(6,3,2).
pair(6,3) :- r_6_7.
like(6,1,3) :- r_6_7.
r_6_7 :- pair(6,3), like(6,1,3).
pair(6,3) :- r_6_8.
like(6,2,3) :- r_6_8.
r_6_8 :- pair(6,3), like(6,2,3).
pair(6,3) :- r_6_9.
like(6,3,3) :- r_6_9.
r_6_9 :- pair(6,3), like(6,3,3).
pair(6,4) :- r_6_10.
like(6,1,4) :- r_6_10.
r_6_10 :- pair(6,4), like(6,1,4).
pair(6,4) :- r_6_11.
like(6,2,4) :- r_6_11.
r_6_11 :- pair(6,4), like(6,2,4).
pair(6,4) :- r_6_12.
like(6,3,4) :- r_6_12.
r_6_12 :- pair(6,4), like(6,3,4).
pair(6,5) :- r_6_13.
like(6,1,5) :- r_6_13.
r_6_13 :- pair(6,5), like(6,1,5).
pair(6,5) :- r_6_14.
like(6,2,5) :- r_6_14.
r_6_14 :- pair(6,5), like(6,2,5).
pair(6,5) :- r_6_15.
like(6,3,5) :- r_6_15.
r_6_15 :- pair(6,5), like(6,3,5).
pair(6,6) :- r_6_16.
like(6,1,6) :- r_6_16.
r_6_16 :- pair(6,6), like(6,1,6).
pair(6,6) :- r_6_17.
like(6,2,6) :- r_6_17.
r_6_17 :- pair(6,6), like(6,2,6).
pair(6,6) :- r_6_18.
like(6,3,6) :- r_6_18.
r_6_18 :- pair(6,6), like(6,3,6).
r_6_1 | r_6_2 | r_6_3 | r_6_4 | r_6_5 | r_6_6 | r_6_7 | r_6_8 | r_6_9 | r_6_10 | r_6_11 | r_6_12 | r_6_13 | r_6_14 | r_6_15 | r_6_16 | r_6_17 | r_6_18.

:- like(X,R,Y), ssex(X,Y).

like(1,1,5).
like(1,2,6).
like(1,3,4).
prefer(1,5,6).
prefer(1,5,4).
prefer(1,6,4).
like(2,1,5).
like(2,2,6).
like(2,3,4).
prefer(2,5,6).
prefer(2,5,4).
prefer(2,6,4).
like(3,1,6).
like(3,2,4).
like(3,3,5).
prefer(3,6,4).
prefer(3,6,5).
prefer(3,4,5).
like(4,1,1).
like(4,2,3).
like(4,3,2).
prefer(4,1,3).
prefer(4,1,2).
prefer(4,3,2).
like(5,1,3).
like(5,1,1).
like(5,2,2).
prefer(5,3,2).
prefer(5,1,2).
like(6,1,2).
like(6,1,1).
like(6,2,3).
prefer(6,2,3).
prefer(6,1,3).
